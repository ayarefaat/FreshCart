import{l as z}from"./chunk-WNAWHQLM.js";import{a as j}from"./chunk-NVT2GBP7.js";import{a as k}from"./chunk-MRBI3TW2.js";import{a as A,b as f,c as D,d as G,e as M,f as S,h as B,i as U,j as V,k as $,m as O}from"./chunk-VZPYMUVG.js";import"./chunk-UXZZGWPP.js";import{ca as L}from"./chunk-WXBF3XXG.js";import{Y as I}from"./chunk-V5QCGGX7.js";import{Cb as n,Db as i,Eb as C,Ob as N,Pb as v,Tb as l,Wa as s,Xa as w,_b as q,bc as E,ga as P,ob as _,ub as h,yb as c}from"./chunk-7Q3RJGOY.js";var b=(e,a)=>({"is-valid":e,"is-invalid":a});function H(e,a){e&1&&(n(0,"p",18),l(1,"Name is required"),i())}function J(e,a){e&1&&(n(0,"p",18),l(1,"Name length must be at least 3"),i())}function K(e,a){e&1&&(n(0,"p",18),l(1,"Name length must be max 10"),i())}function Q(e,a){if(e&1&&(n(0,"div",7),_(1,H,2,0,"p",18)(2,J,2,0)(3,K,2,0),i()),e&2){let r,o=v();s(),c(1,(r=o.registerForm.get("name"))!=null&&r.getError("required")?1:(r=o.registerForm.get("name"))!=null&&r.getError("minlength")?2:(r=o.registerForm.get("name"))!=null&&r.getError("maxlength")?3:-1)}}function W(e,a){e&1&&(n(0,"p",18),l(1,"Email is required"),i())}function X(e,a){e&1&&(n(0,"p",18),l(1,"Email format not correct"),i())}function Y(e,a){if(e&1&&(n(0,"div",7),_(1,W,2,0,"p",18)(2,X,2,0),i()),e&2){let r,o=v();s(),c(1,(r=o.registerForm.get("email"))!=null&&r.getError("required")?1:(r=o.registerForm.get("email"))!=null&&r.getError("email")?2:-1)}}function Z(e,a){e&1&&(n(0,"p",18),l(1,"password is required"),i())}function ee(e,a){e&1&&(n(0,"p",18),l(1,"password length must be at least 6"),i())}function te(e,a){if(e&1&&(n(0,"div",7),_(1,Z,2,0,"p",18)(2,ee,2,0),i()),e&2){let r,o=v();s(),c(1,(r=o.registerForm.get("password"))!=null&&r.getError("required")?1:(r=o.registerForm.get("password"))!=null&&r.getError("pattern")?2:-1)}}function re(e,a){e&1&&(n(0,"p",18),l(1,"rePassword is required"),i())}function ie(e,a){e&1&&(n(0,"p",18),l(1,"rePassword length must be at least 6"),i())}function ne(e,a){e&1&&(n(0,"p",18),l(1,"Confirm password is not correct"),i())}function le(e,a){if(e&1&&(n(0,"div",7),_(1,re,2,0,"p",18)(2,ie,2,0)(3,ne,2,0),i()),e&2){let r,o=v();s(),c(1,(r=o.registerForm.get("rePassword"))!=null&&r.getError("required")?1:(r=o.registerForm.get("rePassword"))!=null&&r.getError("pattern")?2:3)}}function oe(e,a){e&1&&(n(0,"p",18),l(1,"phone is required"),i())}function ae(e,a){e&1&&(n(0,"p",18),l(1,"phone number is not valid"),i())}function se(e,a){if(e&1&&(n(0,"div",16),_(1,oe,2,0,"p",18)(2,ae,2,0),i()),e&2){let r,o=v();s(),c(1,(r=o.registerForm.get("phone"))!=null&&r.getError("required")?1:(r=o.registerForm.get("phone"))!=null&&r.getError("pattern")?2:-1)}}function me(e,a){e&1&&(n(0,"span"),C(1,"i",19),i())}var Ce=(()=>{class e{constructor(r,o,t,m,F){this._authService=r,this._router=o,this._formBuilder=t,this._sharedService=m,this._toaster=F,this.isLoading=!1,this.registerForm=new M({name:new S(null,[f.required,f.minLength(3),f.maxLength(10)]),email:new S(null,[f.required,f.email]),password:new S(null,[f.required,f.pattern(/^\w{6,}$/)]),rePassword:new S(null,[f.required,f.pattern(/^\w{6,}$/)]),phone:new S(null,[f.required,f.pattern(/^01[0125][0-9]{8}$/)])},this.confirmPasword)}confirmPasword(r){return r.get("password")?.value===r.get("rePassword")?.value?null:{missMatch:!0}}registerUser(){this.registerForm.valid?(console.log(this.registerForm),this.isLoading=!0,this.registerSub=this._authService.registerUSer(this.registerForm.value).subscribe({next:r=>{console.log(r),this._toaster.success("Registered successfully","FreshCart",{closeButton:!0,timeOut:1e3}),this.isLoading=!1,this.intervalId=setInterval(()=>{this._router.navigate(["/login"])},2e3)},error:r=>{console.log(r),this.isLoading=!1,this.resText=r.error.message}})):this.registerForm.markAllAsTouched()}ngOnDestroy(){clearInterval(this.intervalId),this.registerSub?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)(w(k),w(L),w($),w(j),w(z))}}static{this.\u0275cmp=P({type:e,selectors:[["app-register"]],standalone:!0,features:[q],decls:42,vars:28,consts:[[1,"bg-main-light","p-3","my-5","rounded-2","mx-auto","w-75","shadow"],[1,"text-main","fs-1","fw-bold"],[1,"py-3",3,"ngSubmit","formGroup"],[1,"my-3"],["for","name",1,"mb-2","fw-bolder"],[1,"text-danger"],["id","name","type","text","formControlName","name","placeholder","Ex:Aya",1,"form-control",3,"ngClass"],[1,"alert","alert-warning","fs-6","my-3","rounded-2","fw-bold"],["for","email",1,"mb-2","fw-bolder"],["id","email","type","text","formControlName","email","placeholder","Ex:email@gmail.com",1,"form-control",3,"ngClass"],["for","password",1,"mb-2","fw-bolder"],["id","password","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","rePassword",1,"mb-2","fw-bolder"],["id","rePassword","type","password","formControlName","rePassword",1,"form-control",3,"ngClass"],["for","phone",1,"mb-2","fw-bolder"],["id","phone","type","tel","formControlName","phone",1,"form-control",3,"ngClass"],["placeholder","01xxxxxxxxx",1,"alert","alert-warning","fs-6","my-3","rounded-2","fw-bold"],["type","submit",1,"btn","btn-main","mx-auto","w-25","text-white",3,"disabled"],[1,"m-0"],[1,"fa-solid","fa-circle-notch","fa-spin"]],template:function(o,t){if(o&1&&(n(0,"section",0)(1,"h1",1),l(2,"Register Now"),i(),n(3,"form",2),N("ngSubmit",function(){return t.registerUser()}),n(4,"div",3)(5,"label",4)(6,"span",5),l(7,"*"),i(),l(8,"Name: "),i(),C(9,"input",6),_(10,Q,4,1,"div",7),i(),n(11,"div",3)(12,"label",8)(13,"span",5),l(14,"*"),i(),l(15,"Email: "),i(),C(16,"input",9),_(17,Y,3,1,"div",7),i(),n(18,"div",3)(19,"label",10)(20,"span",5),l(21,"*"),i(),l(22,"Password: "),i(),C(23,"input",11),_(24,te,3,1,"div",7),i(),n(25,"div",3)(26,"label",12)(27,"span",5),l(28,"*"),i(),l(29,"rePassword: "),i(),C(30,"input",13),_(31,le,4,1,"div",7),i(),n(32,"div",3)(33,"label",14)(34,"span",5),l(35,"*"),i(),l(36,"Phone: "),i(),C(37,"input",15),_(38,se,3,1,"div",16),i(),n(39,"button",17),l(40,"Register "),_(41,me,2,0,"span"),i()()()),o&2){let m,F,d,x,u,y,g,T,p,R;s(3),h("formGroup",t.registerForm),s(6),h("ngClass",E(13,b,!((m=t.registerForm.get("name"))!=null&&m.errors)&&(((m=t.registerForm.get("name"))==null?null:m.touched)||((m=t.registerForm.get("name"))==null?null:m.dirty)),((m=t.registerForm.get("name"))==null?null:m.errors)&&(((m=t.registerForm.get("name"))==null?null:m.touched)||((m=t.registerForm.get("name"))==null?null:m.dirty)))),s(),c(10,(F=t.registerForm.get("name"))!=null&&F.errors&&((F=t.registerForm.get("name"))!=null&&F.touched)?10:-1),s(6),h("ngClass",E(16,b,!((d=t.registerForm.get("email"))!=null&&d.errors)&&(((d=t.registerForm.get("email"))==null?null:d.touched)||((d=t.registerForm.get("email"))==null?null:d.dirty)),((d=t.registerForm.get("email"))==null?null:d.errors)&&(((d=t.registerForm.get("email"))==null?null:d.touched)||((d=t.registerForm.get("email"))==null?null:d.dirty)))),s(),c(17,(x=t.registerForm.get("email"))!=null&&x.errors&&((x=t.registerForm.get("email"))!=null&&x.touched)?17:-1),s(6),h("ngClass",E(19,b,!((u=t.registerForm.get("password"))!=null&&u.errors)&&(((u=t.registerForm.get("password"))==null?null:u.touched)||((u=t.registerForm.get("password"))==null?null:u.dirty)),((u=t.registerForm.get("password"))==null?null:u.errors)&&(((u=t.registerForm.get("password"))==null?null:u.touched)||((u=t.registerForm.get("password"))==null?null:u.dirty)))),s(),c(24,(y=t.registerForm.get("password"))!=null&&y.errors&&((y=t.registerForm.get("password"))!=null&&y.touched)?24:-1),s(6),h("ngClass",E(22,b,!((g=t.registerForm.get("rePassword"))!=null&&g.errors)&&(((g=t.registerForm.get("rePassword"))==null?null:g.touched)||((g=t.registerForm.get("rePassword"))==null?null:g.dirty)),((g=t.registerForm.get("rePassword"))==null?null:g.errors)&&(((g=t.registerForm.get("rePassword"))==null?null:g.touched)||((g=t.registerForm.get("rePassword"))==null?null:g.dirty)))),s(),c(31,t.registerForm.getError("missMatch")&&((T=t.registerForm.get("rePassword"))!=null&&T.touched)?31:-1),s(6),h("ngClass",E(25,b,!((p=t.registerForm.get("phone"))!=null&&p.errors)&&(((p=t.registerForm.get("phone"))==null?null:p.touched)||((p=t.registerForm.get("phone"))==null?null:p.dirty)),((p=t.registerForm.get("phone"))==null?null:p.errors)&&(((p=t.registerForm.get("phone"))==null?null:p.touched)||((p=t.registerForm.get("phone"))==null?null:p.dirty)))),s(),c(38,(R=t.registerForm.get("phone"))!=null&&R.errors&&((R=t.registerForm.get("phone"))!=null&&R.touched)?38:-1),s(),h("disabled",t.registerForm.invalid),s(2),c(41,t.isLoading?41:-1)}},dependencies:[O,B,A,D,G,U,V,I]})}}return e})();export{Ce as RegisterComponent};
