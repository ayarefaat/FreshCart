import{a as E}from"./chunk-4LR65QCZ.js";import{a as y}from"./chunk-2QRL562O.js";import{a as k}from"./chunk-AYSO5EUP.js";import{l as D}from"./chunk-WNAWHQLM.js";import"./chunk-NVT2GBP7.js";import"./chunk-UXZZGWPP.js";import{da as W}from"./chunk-WXBF3XXG.js";import"./chunk-V5QCGGX7.js";import{Ab as b,Bb as S,Cb as o,Db as s,Eb as d,Hb as O,Ob as f,Pb as g,Sa as w,Tb as r,Ub as M,Vb as P,Wa as c,Xa as l,_b as T,ga as C,ob as x,qa as h,ra as u,ub as v,yb as L}from"./chunk-7Q3RJGOY.js";var $=(i,a)=>a._id;function j(i,a){i&1&&d(0,"app-loader")}function F(i,a){i&1&&(o(0,"button",5),r(1,"Start Exploring"),s())}function I(i,a){if(i&1){let e=O();o(0,"div",4)(1,"div",6)(2,"div",7),d(3,"img",8),o(4,"div",9)(5,"h6",10),r(6),s(),o(7,"p",11),r(8),s(),o(9,"span",12),f("click",function(){let t=h(e),m=t.$implicit,_=t.$index,p=g();return u(p.delete(m._id,_))}),d(10,"i",13),r(11," Remove"),s()()(),o(12,"div",14)(13,"button",15),f("click",function(){let t=h(e),m=t.$implicit,_=t.$index,p=g();return u(p.addToCart(m._id,_))}),r(14,"Add to Cart"),s()()()()}if(i&2){let e=a.$implicit;c(3),v("src",e.imageCover,w)("alt",e.title),c(3),M(e.title),c(2),P("",e.price," EGP")}}var U=(()=>{class i{constructor(e,n,t){this._wishlistService=e,this._toaster=n,this._cartService=t}ngOnInit(){this.wishListSub=this._wishlistService.displayWishList().subscribe({next:e=>{this.wishListData=e.data,console.log(this.wishListData)}})}delete(e,n){this._wishlistService.removeWishList(e).subscribe({next:t=>{console.log(t),this._toaster.warning(t.message,"FreshCart",{closeButton:!0,timeOut:1e3}),this.wishListData.splice(n,1),this._wishlistService.wishListCounter.next(t.data.length)}})}addToCart(e,n){this._cartService.addToCart(e).subscribe({next:t=>{console.log(t),this.delete(e,n),this._cartService.cartCounter.next(t.numOfCartItems),this._toaster.success(t.message,"FreshCart",{closeButton:!0,timeOut:1e3})}})}static{this.\u0275fac=function(n){return new(n||i)(l(y),l(D),l(k))}}static{this.\u0275cmp=C({type:i,selectors:[["app-wish-list"]],standalone:!0,features:[T],decls:10,vars:1,consts:[[1,"my-5"],[1,"container"],[1,"wishList","bg-main-light","rounded-2","shadow","p-5"],[1,"row"],[1,"item","col-12","border-bottom","border-2","p-3"],["routerLink","/products",1,"btn","btn-outline-success","mt-4"],[1,"d-flex","justify-content-between","flex-wrap"],[1,"image","d-flex","col-12","col-lg-10"],[1,"w-25","me-3",3,"src","alt"],[1,"data","d-flex","flex-column","justify-content-center"],[1,"fw-bolder"],[1,"text-success","fw-bolder"],[1,"text-danger","fw-bolder",3,"click"],[1,"fa-solid","fa-trash"],[1,"col-12","col-lg-2","d-flex","align-items-center","mt-3","mt-lg-0"],[1,"btn","btn-outline-success","fw-bolder",3,"click"]],template:function(n,t){n&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),r(4,"My WishList"),s(),x(5,j,1,0,"app-loader")(6,F,2,0),o(7,"div",3),b(8,I,15,4,"div",4,$),s()()()()),n&2&&(c(5),L(5,t.wishListData?t.wishListData.length==0?6:-1:5),c(3),S(t.wishListData))},dependencies:[E,W],styles:["section[_ngcontent-%COMP%]   .wishList[_ngcontent-%COMP%]{background-color:#f8f9fa}section[_ngcontent-%COMP%]   .wishList[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-position:center;object-fit:cover}section[_ngcontent-%COMP%]   .wishList[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;cursor:pointer}"]})}}return i})();export{U as WishListComponent};
