import{a as R}from"./chunk-LBPCEE6S.js";import{l as P}from"./chunk-WNAWHQLM.js";import{a as D,b as g,c as M,d as j,h as I,i as O,j as B,k as G,m as L}from"./chunk-VZPYMUVG.js";import"./chunk-UXZZGWPP.js";import{ca as N,da as k}from"./chunk-WXBF3XXG.js";import{Y as w}from"./chunk-V5QCGGX7.js";import{Cb as r,Db as i,Eb as C,Ob as T,Pb as F,Tb as s,Wa as o,Xa as h,_b as q,bc as v,ga as E,ob as c,ub as f,yb as _}from"./chunk-7Q3RJGOY.js";var S=(t,a)=>({"is-valid":t,"is-invalid":a});function V(t,a){t&1&&(r(0,"p",19),s(1,"name is required"),i())}function H(t,a){if(t&1&&(r(0,"div",8),c(1,V,2,0,"p",19),i()),t&2){let n,l=F();o(),_(1,(n=l.addressForm.get("name"))!=null&&n.getError("required")?1:-1)}}function z(t,a){t&1&&(r(0,"p",19),s(1,"details is required"),i())}function U(t,a){t&1&&(r(0,"p",19),s(1,"Details length must be at least 20 "),i())}function W(t,a){if(t&1&&(r(0,"div",11),c(1,z,2,0,"p",19)(2,U,2,0),i()),t&2){let n,l=F();o(),_(1,(n=l.addressForm.get("details"))!=null&&n.getError("required")?1:(n=l.addressForm.get("details"))!=null&&n.getError("minlength")?2:-1)}}function Y(t,a){t&1&&(r(0,"p",19),s(1,"phone is required"),i())}function $(t,a){t&1&&(r(0,"p",19),s(1,"phone number is not valid"),i())}function J(t,a){if(t&1&&(r(0,"div",11),c(1,Y,2,0,"p",19)(2,$,2,0),i()),t&2){let n,l=F();o(),_(1,(n=l.addressForm.get("phone"))!=null&&n.getError("required")?1:(n=l.addressForm.get("phone"))!=null&&n.getError("pattern")?2:-1)}}function K(t,a){t&1&&(r(0,"p",19),s(1,"city is required"),i())}function Q(t,a){t&1&&(r(0,"p",19),s(1,"Details length must be at least 3 "),i())}function X(t,a){if(t&1&&(r(0,"div",8),c(1,K,2,0,"p",19)(2,Q,2,0),i()),t&2){let n,l=F();o(),_(1,(n=l.addressForm.get("city"))!=null&&n.getError("required")?1:(n=l.addressForm.get("city"))!=null&&n.getError("minlength")?2:-1)}}var oe=(()=>{class t{constructor(n,l,e,d){this._formBuilder=n,this._addressService=l,this._toaster=e,this._router=d,this.addressForm=this._formBuilder.group({name:[null,[g.required]],details:[null,[g.required,g.minLength(20)]],phone:[null,[g.required,g.pattern(/^01[0125][0-9]{8}$/)]],city:[null,[g.required,g.minLength(3)]]})}ngOnInit(){this._addressService.getUserAddresses().subscribe({next:n=>{this.addresses=n.data}})}addAddress(){this._addressService.addAddress(this.addressForm.value).subscribe({next:n=>{this._toaster.success(n.message,"FreshCart",{closeButton:!0,timeOut:1e3}),console.log(n),this.timer=setTimeout(()=>{this._router.navigate(["/addresses"])},1500)}})}ngOnDestroy(){clearTimeout(this.timer)}static{this.\u0275fac=function(l){return new(l||t)(h(G),h(R),h(P),h(N))}}static{this.\u0275cmp=E({type:t,selectors:[["app-add-address"]],standalone:!0,features:[q],decls:31,vars:22,consts:[[1,"m-5","bg-light","rounded-2","p-3"],[1,"container"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center"],[1,"text-main","fw-bolder","my-2","col-12","col-md-6"],[3,"ngSubmit","formGroup"],[1,"my-3"],["for","name"],["type","text","name","","formControlName","name","id","name","placeholder","ex:Home , Work ,...",1,"form-control",3,"ngClass"],["placeholder","01xxxxxxxxx",1,"alert","alert-warning","fs-6","my-3","rounded-2","fw-bold"],["for","details"],["name","","formControlName","details","id","details","placeholder","Cairo , Maadi , ....",1,"form-control",3,"ngClass"],[1,"alert","alert-warning","fs-6","my-3","rounded-2","fw-bold"],["for","phone"],["id","phone","type","tel","formControlName","phone","placeholder","01xxxxxxxxx",1,"form-control",3,"ngClass"],["for","city"],["type","text","name","","formControlName","city","id","city","placeholder","Helwan",1,"form-control",3,"ngClass"],[1,"btns","d-flex"],[1,"btn","btn-outline-success","fw-bolder","px-4","d-block","m-auto",3,"disabled"],["routerLink","/addresses",1,"btn","btn-outline-danger"],[1,"m-0"]],template:function(l,e){if(l&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),s(4,"Add Address"),i()(),r(5,"form",4),T("ngSubmit",function(){return e.addAddress()}),r(6,"div",5)(7,"label",6),s(8,"Name"),i(),C(9,"input",7),c(10,H,2,1,"div",8),i(),r(11,"div",5)(12,"label",9),s(13,"Details"),i(),C(14,"textarea",10),c(15,W,3,1,"div",11),i(),r(16,"div",5)(17,"label",12),s(18,"Phone"),i(),C(19,"input",13),c(20,J,3,1,"div",11),i(),r(21,"div",5)(22,"label",14),s(23,"City"),i(),C(24,"input",15),c(25,X,3,1,"div",8),i(),r(26,"div",16)(27,"button",17),s(28,"Add"),i()()(),r(29,"button",18),s(30,"Your Saved Addresses"),i()()()),l&2){let d,y,m,A,u,b,p,x;o(5),f("formGroup",e.addressForm),o(4),f("ngClass",v(10,S,!((d=e.addressForm.get("name"))!=null&&d.errors)&&(((d=e.addressForm.get("name"))==null?null:d.touched)||((d=e.addressForm.get("name"))==null?null:d.dirty)),((d=e.addressForm.get("name"))==null?null:d.errors)&&(((d=e.addressForm.get("name"))==null?null:d.touched)||((d=e.addressForm.get("name"))==null?null:d.dirty)))),o(),_(10,(y=e.addressForm.get("name"))!=null&&y.errors&&((y=e.addressForm.get("name"))!=null&&y.touched)?10:-1),o(4),f("ngClass",v(13,S,!((m=e.addressForm.get("details"))!=null&&m.errors)&&(((m=e.addressForm.get("details"))==null?null:m.touched)||((m=e.addressForm.get("details"))==null?null:m.dirty)),((m=e.addressForm.get("details"))==null?null:m.errors)&&(((m=e.addressForm.get("details"))==null?null:m.touched)||((m=e.addressForm.get("details"))==null?null:m.dirty)))),o(),_(15,(A=e.addressForm.get("details"))!=null&&A.errors&&((A=e.addressForm.get("details"))!=null&&A.touched)?15:-1),o(4),f("ngClass",v(16,S,!((u=e.addressForm.get("phone"))!=null&&u.errors)&&(((u=e.addressForm.get("phone"))==null?null:u.touched)||((u=e.addressForm.get("phone"))==null?null:u.dirty)),((u=e.addressForm.get("phone"))==null?null:u.errors)&&(((u=e.addressForm.get("phone"))==null?null:u.touched)||((u=e.addressForm.get("phone"))==null?null:u.dirty)))),o(),_(20,(b=e.addressForm.get("phone"))!=null&&b.errors&&((b=e.addressForm.get("phone"))!=null&&b.touched)?20:-1),o(4),f("ngClass",v(19,S,!((p=e.addressForm.get("city"))!=null&&p.errors)&&(((p=e.addressForm.get("city"))==null?null:p.touched)||((p=e.addressForm.get("city"))==null?null:p.dirty)),((p=e.addressForm.get("city"))==null?null:p.errors)&&(((p=e.addressForm.get("city"))==null?null:p.touched)||((p=e.addressForm.get("city"))==null?null:p.dirty)))),o(),_(25,(x=e.addressForm.get("city"))!=null&&x.errors&&((x=e.addressForm.get("city"))!=null&&x.touched)?25:-1),o(2),f("disabled",e.addressForm.invalid)}},dependencies:[L,I,D,M,j,O,B,w,k],styles:["h4[_ngcontent-%COMP%]:hover{color:var(--main-color)}button[_ngcontent-%COMP%]{transition:background-color ease 1s;-webkit-transition:background-color ease 1s;-moz-transition:background-color ease 1s;-ms-transition:background-color ease 1s;-o-transition:background-color ease 1s}"]})}}return t})();export{oe as AddAddressComponent};
