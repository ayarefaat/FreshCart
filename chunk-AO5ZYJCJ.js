import{a as M,b as O,c as R}from"./chunk-VOHF2FX7.js";import{a as U}from"./chunk-GPDEUNDG.js";import{a as V}from"./chunk-4LR65QCZ.js";import{a as j}from"./chunk-AYSO5EUP.js";import{l as A}from"./chunk-WNAWHQLM.js";import"./chunk-NVT2GBP7.js";import"./chunk-UXZZGWPP.js";import{Q as B}from"./chunk-WXBF3XXG.js";import"./chunk-V5QCGGX7.js";import{$b as E,Ab as D,Bb as x,Cb as r,Db as o,Eb as p,Hb as y,Ob as b,Pb as u,Sa as I,Tb as c,Ub as l,Wa as i,Xa as d,_b as w,ec as C,fc as F,ga as g,gc as k,ob as m,qa as h,qb as T,ra as S,rb as P,ub as f,yb as _,zb as v}from"./chunk-7Q3RJGOY.js";var G=()=>[O,M,import("./chunk-6IXFFMEM.js").then(t=>t.UpperCasePipe),import("./chunk-6IXFFMEM.js").then(t=>t.CurrencyPipe)],L=()=>[1,2,3,4,5];function W(t,s){t&1&&p(0,"app-loader")}function $(t,s){if(t&1&&p(0,"img",15),t&2){let e=u().$implicit;f("src",e,I)}}function q(t,s){t&1&&m(0,$,1,1,"ng-template",5)}function H(t,s){t&1&&(r(0,"span",13),p(1,"i",16),o())}function J(t,s){t&1&&(r(0,"span",13),p(1,"i",17),o())}function K(t,s){if(t&1){let e=y();r(0,"div",2)(1,"div",3)(2,"owl-carousel-o",4),D(3,q,1,0,null,5,v),o()(),r(5,"div",6)(6,"p",7),c(7),o(),r(8,"h3",8),c(9),o(),r(10,"h4",9),c(11),C(12,"uppercase"),o(),r(13,"div",10)(14,"h6",11),c(15),C(16,"currency"),o(),r(17,"div",12),D(18,H,2,0,"span",13,v),m(20,J,2,0,"span",13),r(21,"span"),c(22),o()()(),r(23,"button",14),b("click",function(){h(e);let a=u();return S(a.addToCart(a.productDetails._id))}),c(24,"Add to Cart +"),o()()()}if(t&2){let e=u();i(2),f("options",e.productSlider),i(),x(e.productDetails.images),i(4),l(e.productDetails.title),i(2),l(e.productDetails.description),i(2),l(F(12,7,e.productDetails.category.name)),i(4),l(k(16,9,e.productDetails.price,"GBP")),i(3),x(E(12,L).slice(0,e.productDetails.ratingsAverage)),i(2),_(20,e.productDetails.ratingsAverage%1!==0?20:-1),i(2),l(e.productDetails.ratingsAverage)}}var re=(()=>{class t{constructor(e,n,a,z){this._activatedRoute=e,this._productService=n,this._cartService=a,this._toaster=z,this.productSlider={loop:!0,mouseDrag:!0,autoplay:!0,autoplayTimeout:2e3,touchDrag:!0,pullDrag:!1,dots:!1,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4},1100:{items:5}},nav:!0}}ngOnInit(){this._activatedRoute.paramMap.subscribe({next:e=>{this.productId=e.get("id"),console.log(this.productId)}}),this._productService.getProductDetails(this.productId).subscribe({next:e=>{console.log(e.data),this.productDetails=e.data}})}addToCart(e){this._cartService.addToCart(e).subscribe({next:n=>{console.log(n),this._cartService.cartCounter.next(n.numOfCartItems),this._toaster.success(n.message,"FreshCart",{closeButton:!0,timeOut:1e3})}})}static{this.\u0275fac=function(n){return new(n||t)(d(B),d(U),d(j),d(A))}}static{this.\u0275cmp=g({type:t,selectors:[["app-product-details"]],standalone:!0,features:[w],decls:6,vars:2,consts:[[1,"my-5"],[1,"container"],[1,"row","align-items-center"],[1,"col-12","col-md-4","p-2"],[3,"options"],["carouselSlide",""],[1,"col-12","col-md-8","p-2"],[1,"lead"],[1,"f-3"],[1,"f-2","mt-3","text-main","fw-bolder"],[1,"d-flex","justify-content-between","flex-wrap","mt-2"],[1,"fw-bolder","col-12","col-md-6"],[1,"small","col-12","col-md-6"],[1,"rating-color"],[1,"btn","btn-outline-success","mt-3",3,"click"],["height","400","alt","",1,"w-100",3,"src"],[1,"fa-solid","fa-star"],[1,"fa-solid","fa-star-half-stroke"]],template:function(n,a){n&1&&(r(0,"section",0)(1,"div",1),m(2,W,1,0,"app-loader")(3,K,25,13),T(4,3,G),o()()),n&2&&(i(2),_(2,a.productDetails?-1:2),i(2),P(a.productDetails))},dependencies:[R,V]})}}return t})();export{re as ProductDetailsComponent};
