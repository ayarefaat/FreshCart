<section class="my-5">
    <div class="container">
        @if(!productDetails){
            <app-loader></app-loader>
        }
        @defer (when productDetails){
                <div class="row align-items-center">
                    <div class="col-12 col-md-4 p-2">
                        <owl-carousel-o [options]="productSlider">
                           @for(img of productDetails.images;track $index){
                            <ng-template carouselSlide>
                                <img [src]="img" class="w-100 " height="400" alt="">
                            </ng-template>  
                           }
                          </owl-carousel-o>
                         
                    </div>
                    <div class="col-12 col-md-8 p-2">
                        <p class="lead">{{productDetails.title}}</p>
                        <h3 class="f-3">{{productDetails.description}}</h3>
                        <h4 class="f-2 mt-3 text-main fw-bolder">{{productDetails.category.name | uppercase}}</h4>
                        <div class="d-flex justify-content-between flex-wrap mt-2">
                            <h6 class="fw-bolder col-12 col-md-6">{{productDetails.price | currency : 'GBP'}}</h6>
                            <div class="small col-12 col-md-6">
                                @for(star of [1,2,3,4,5].slice(0,productDetails.ratingsAverage) ;track $index){
                                    <span class="rating-color"><i class="fa-solid fa-star"></i></span>
                                }
                                @if(productDetails.ratingsAverage%1 !==0){
                                    <span class="rating-color"><i class="fa-solid fa-star-half-stroke"></i></span>
                                }
                                <span>{{productDetails.ratingsAverage}}</span>
                            </div>
                        </div>
                        <button class="btn btn-outline-success mt-3" (click)="addToCart(productDetails._id)">Add to Cart +</button>
                      </div>
                </div>
            }
            </div>
        </section>
   
