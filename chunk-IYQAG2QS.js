import{a as k}from"./chunk-4LR65QCZ.js";import{a as W}from"./chunk-6Q5472AU.js";import{a as T}from"./chunk-LWQYB3BX.js";import{l as $}from"./chunk-Y34T3SBL.js";import"./chunk-NVT2GBP7.js";import"./chunk-UXZZGWPP.js";import"./chunk-CNXF2SFB.js";import"./chunk-V5QCGGX7.js";import{Ab as b,Bb as S,Cb as s,Db as o,Eb as d,Hb as M,Ob as g,Pb as C,Sa as w,Tb as c,Ub as O,Vb as P,Wa as r,Xa as l,_b as y,ga as u,ob as x,qa as p,ra as f,ub as v,yb as L}from"./chunk-7Q3RJGOY.js";var j=(n,a)=>a._id;function D(n,a){n&1&&d(0,"app-loader")}function E(n,a){if(n&1){let t=M();s(0,"div",4)(1,"div",5)(2,"div",6),d(3,"img",7),s(4,"div",8)(5,"h6",9),c(6),o(),s(7,"p",10),c(8),o(),s(9,"span",11),g("click",function(){let e=p(t),m=e.$implicit,_=e.$index,h=C();return f(h.delete(m._id,_))}),d(10,"i",12),c(11," Remove"),o()()(),s(12,"div",13)(13,"button",14),g("click",function(){let e=p(t),m=e.$implicit,_=e.$index,h=C();return f(h.addToCart(m._id,_))}),c(14,"Add to Cart"),o()()()()}if(n&2){let t=a.$implicit;r(3),v("src",t.imageCover,w)("alt",t.title),r(3),O(t.title),r(2),P("",t.price," EGP")}}var A=(()=>{class n{constructor(t,i,e){this._wishlistService=t,this._toaster=i,this._cartService=e}ngOnInit(){this.wishListSub=this._wishlistService.displayWishList().subscribe({next:t=>{this.wishListData=t.data,console.log(this.wishListData)}})}delete(t,i){this._wishlistService.removeWishList(t).subscribe({next:e=>{console.log(e),this._toaster.warning(e.message,"FreshCart",{closeButton:!0}),this.wishListData.splice(i,1),this._wishlistService.wishListCounter.next(e.data.length)}})}addToCart(t,i){this._cartService.addToCart(t).subscribe({next:e=>{console.log(e),this.delete(t,i),this._cartService.cartCounter.next(e.numOfCartItems),this._toaster.success(e.message,"FreshCart",{closeButton:!0})}})}static{this.\u0275fac=function(i){return new(i||n)(l(W),l($),l(T))}}static{this.\u0275cmp=u({type:n,selectors:[["app-wish-list"]],standalone:!0,features:[y],decls:9,vars:1,consts:[[1,"my-5"],[1,"container"],[1,"wishList","bg-main-light","rounded-2","shadow","p-5"],[1,"row"],[1,"item","col-12","border-bottom","border-2","p-3"],[1,"d-flex","justify-content-between","flex-wrap"],[1,"image","d-flex","col-12","col-lg-10"],[1,"w-25","me-3",3,"src","alt"],[1,"data","d-flex","flex-column","justify-content-center"],[1,"fw-bolder"],[1,"text-success","fw-bolder"],[1,"text-danger","fw-bolder",3,"click"],[1,"fa-solid","fa-trash"],[1,"col-12","col-lg-2","d-flex","align-items-center","mt-3","mt-lg-0"],[1,"btn","btn-outline-success","fw-bolder",3,"click"]],template:function(i,e){i&1&&(s(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),c(4,"My WishList"),o(),x(5,D,1,0,"app-loader"),s(6,"div",3),b(7,E,15,4,"div",4,j),o()()()()),i&2&&(r(5),L(5,e.wishListData?-1:5),r(2),S(e.wishListData))},dependencies:[k],styles:["section[_ngcontent-%COMP%]   .wishList[_ngcontent-%COMP%]{background-color:#f8f9fa}section[_ngcontent-%COMP%]   .wishList[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-position:center;object-fit:cover}section[_ngcontent-%COMP%]   .wishList[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;cursor:pointer}"]})}}return n})();export{A as WishListComponent};
