import{a as y}from"./chunk-NVT2GBP7.js";import{a as G}from"./chunk-MRBI3TW2.js";import{a as R,b as _,c as x,d as N,h as T,i as q,j,k,m as D}from"./chunk-VZPYMUVG.js";import"./chunk-UXZZGWPP.js";import{ca as b}from"./chunk-WXBF3XXG.js";import{Y as E}from"./chunk-V5QCGGX7.js";import{Cb as a,Db as o,Eb as v,Ob as P,Pb as h,Tb as s,Wa as m,Xa as u,_b as S,bc as C,ga as F,ob as p,ub as c,yb as w}from"./chunk-7Q3RJGOY.js";var I=(t,d)=>({"is-valid":t,"is-invalid":d});function B(t,d){t&1&&(a(0,"p",12),s(1,"Email is required"),o())}function M(t,d){t&1&&(a(0,"p",12),s(1,"Email format not correct"),o())}function V(t,d){if(t&1&&(a(0,"div",7),p(1,B,2,0,"p",12)(2,M,2,0),o()),t&2){let n,r=h();m(),w(1,(n=r.Form.get("email"))!=null&&n.getError("required")?1:(n=r.Form.get("email"))!=null&&n.getError("email")?2:-1)}}function A(t,d){t&1&&(a(0,"p",12),s(1,"Password is required"),o())}function Y(t,d){t&1&&(a(0,"p",12),s(1,"Password length must be at least 6"),o())}function $(t,d){if(t&1&&(a(0,"div",7),p(1,A,2,0,"p",12)(2,Y,2,0),o()),t&2){let n,r=h();m(),w(1,(n=r.Form.get("newPassword"))!=null&&n.getError("required")?1:(n=r.Form.get("newPassword"))!=null&&n.getError("pattern")?2:-1)}}var U=(()=>{class t{constructor(n,r,e,i){this._formBuilder=n,this._authService=r,this._router=e,this._sharedService=i,this.Form=this._formBuilder.group({email:[null,[_.required,_.email]],newPassword:[null,[_.required,_.pattern(/^\w{6,}$/)]]})}reset(){this._authService.resetPassword(this.Form.value).subscribe({next:n=>{this.token=n.token,console.log(this.token),this._sharedService.login(this.token),this._router.navigate(["/home"])}})}static{this.\u0275fac=function(r){return new(r||t)(u(k),u(G),u(b),u(y))}}static{this.\u0275cmp=F({type:t,selectors:[["app-reset-password"]],standalone:!0,features:[S],decls:21,vars:12,consts:[[1,"bg-main-light","p-3","my-5","rounded-2","mx-auto","w-75","shadow"],[1,"text-main","fs-1","fw-bold"],[1,"py-3",3,"ngSubmit","formGroup"],[1,"my-3"],["for","email",1,"mb-2"],[1,"text-danger"],["id","email","type","email","formControlName","email","placeholder","Ex:email@gmail.com",1,"form-control",3,"ngClass"],[1,"alert","alert-warning","fs-6","my-3","rounded-2","fw-bold"],["for","newPassword",1,"mb-2"],["id","newPassword","type","password","formControlName","newPassword",1,"form-control",3,"ngClass"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","btn-main","w-25","text-white",3,"disabled"],[1,"m-0"]],template:function(r,e){if(r&1&&(a(0,"section",0)(1,"h1",1),s(2,"Reset Your Password:"),o(),a(3,"form",2),P("ngSubmit",function(){return e.reset()}),a(4,"div",3)(5,"label",4)(6,"span",5),s(7,"*"),o(),s(8,"Email: "),o(),v(9,"input",6),p(10,V,3,1,"div",7),o(),a(11,"div",3)(12,"label",8)(13,"span",5),s(14,"*"),o(),s(15,"new Password: "),o(),v(16,"input",9),p(17,$,3,1,"div",7),o(),a(18,"div",10)(19,"button",11),s(20,"Reset"),o()()()()),r&2){let i,f,l,g;m(3),c("formGroup",e.Form),m(6),c("ngClass",C(6,I,!((i=e.Form.get("email"))!=null&&i.errors)&&(((i=e.Form.get("email"))==null?null:i.touched)||((i=e.Form.get("email"))==null?null:i.dirty)),((i=e.Form.get("email"))==null?null:i.errors)&&(((i=e.Form.get("email"))==null?null:i.touched)||((i=e.Form.get("email"))==null?null:i.dirty)))),m(),w(10,(f=e.Form.get("email"))!=null&&f.errors&&((f=e.Form.get("email"))!=null&&f.touched)?10:-1),m(6),c("ngClass",C(9,I,!((l=e.Form.get("newPassword"))!=null&&l.errors)&&(((l=e.Form.get("newPassword"))==null?null:l.touched)||((l=e.Form.get("newPassword"))==null?null:l.dirty)),((l=e.Form.get("newPassword"))==null?null:l.errors)&&(((l=e.Form.get("newPassword"))==null?null:l.touched)||((l=e.Form.get("newPassword"))==null?null:l.dirty)))),m(),w(17,(g=e.Form.get("newPassword"))!=null&&g.errors&&((g=e.Form.get("newPassword"))!=null&&g.touched)?17:-1),m(2),c("disabled",e.Form.invalid)}},dependencies:[D,T,R,x,N,q,j,E]})}}return t})();export{U as ResetPasswordComponent};
