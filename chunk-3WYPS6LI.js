import{a as D}from"./chunk-NVT2GBP7.js";import{a as z}from"./chunk-MRBI3TW2.js";import{a as G,b as f,c as M,d as j,e as U,f as v,h as V,i as $,j as B,k,m as O}from"./chunk-VZPYMUVG.js";import"./chunk-UXZZGWPP.js";import{ca as A}from"./chunk-WXBF3XXG.js";import{Y as L}from"./chunk-V5QCGGX7.js";import{Cb as r,Db as i,Eb as F,Ob as q,Pb as h,Tb as l,Ub as R,Wa as a,Xa as x,_b as I,bc as w,ga as N,ob as d,ub as C,yb as u}from"./chunk-7Q3RJGOY.js";var E=(e,s)=>({"is-valid":e,"is-invalid":s});function H(e,s){if(e&1&&(r(0,"p",2),l(1),i()),e&2){let n=h();a(),R(n.resText)}}function J(e,s){if(e&1&&(r(0,"p",19),l(1),i()),e&2){let n=h();a(),R(n.resText)}}function K(e,s){e&1&&(r(0,"p",20),l(1,"Name is required"),i())}function Q(e,s){e&1&&(r(0,"p",20),l(1,"Name length must be at least 3"),i())}function W(e,s){e&1&&(r(0,"p",20),l(1,"Name length must be max 10"),i())}function X(e,s){if(e&1&&(r(0,"div",8),d(1,K,2,0,"p",20)(2,Q,2,0)(3,W,2,0),i()),e&2){let n,o=h();a(),u(1,(n=o.registerForm.get("name"))!=null&&n.getError("required")?1:(n=o.registerForm.get("name"))!=null&&n.getError("minlength")?2:(n=o.registerForm.get("name"))!=null&&n.getError("maxlength")?3:-1)}}function Y(e,s){e&1&&(r(0,"p",20),l(1,"Email is required"),i())}function Z(e,s){e&1&&(r(0,"p",20),l(1,"Email format not correct"),i())}function ee(e,s){if(e&1&&(r(0,"div",8),d(1,Y,2,0,"p",20)(2,Z,2,0),i()),e&2){let n,o=h();a(),u(1,(n=o.registerForm.get("email"))!=null&&n.getError("required")?1:(n=o.registerForm.get("email"))!=null&&n.getError("email")?2:-1)}}function te(e,s){e&1&&(r(0,"p",20),l(1,"password is required"),i())}function ne(e,s){e&1&&(r(0,"p",20),l(1,"password length must be at least 6"),i())}function ie(e,s){if(e&1&&(r(0,"div",8),d(1,te,2,0,"p",20)(2,ne,2,0),i()),e&2){let n,o=h();a(),u(1,(n=o.registerForm.get("password"))!=null&&n.getError("required")?1:(n=o.registerForm.get("password"))!=null&&n.getError("pattern")?2:-1)}}function re(e,s){e&1&&(r(0,"p",20),l(1,"rePassword is required"),i())}function le(e,s){e&1&&(r(0,"p",20),l(1,"rePassword length must be at least 6"),i())}function oe(e,s){e&1&&(r(0,"p",20),l(1,"Confirm password is not correct"),i())}function ae(e,s){if(e&1&&(r(0,"div",8),d(1,re,2,0,"p",20)(2,le,2,0)(3,oe,2,0),i()),e&2){let n,o=h();a(),u(1,(n=o.registerForm.get("rePassword"))!=null&&n.getError("required")?1:(n=o.registerForm.get("rePassword"))!=null&&n.getError("pattern")?2:3)}}function se(e,s){e&1&&(r(0,"p",20),l(1,"phone is required"),i())}function me(e,s){e&1&&(r(0,"p",20),l(1,"phone number is not valid"),i())}function de(e,s){if(e&1&&(r(0,"div",17),d(1,se,2,0,"p",20)(2,me,2,0),i()),e&2){let n,o=h();a(),u(1,(n=o.registerForm.get("phone"))!=null&&n.getError("required")?1:(n=o.registerForm.get("phone"))!=null&&n.getError("pattern")?2:-1)}}function ue(e,s){e&1&&(r(0,"span"),F(1,"i",21),i())}var Fe=(()=>{class e{constructor(n,o,t,m){this._authService=n,this._router=o,this._formBuilder=t,this._sharedService=m,this.isLoading=!1,this.registerForm=new U({name:new v(null,[f.required,f.minLength(3),f.maxLength(10)]),email:new v(null,[f.required,f.email]),password:new v(null,[f.required,f.pattern(/^\w{6,}$/)]),rePassword:new v(null,[f.required,f.pattern(/^\w{6,}$/)]),phone:new v(null,[f.required,f.pattern(/^01[0125][0-9]{8}$/)])},this.confirmPasword)}confirmPasword(n){return n.get("password")?.value===n.get("rePassword")?.value?null:{missMatch:!0}}registerUser(){this.registerForm.valid?(console.log(this.registerForm),this.isLoading=!0,this.registerSub=this._authService.registerUSer(this.registerForm.value).subscribe({next:n=>{console.log(n),this.resText=n.message,this.isLoading=!1,this.intervalId=setInterval(()=>{this._router.navigate(["/login"])},2e3)},error:n=>{console.log(n),this.isLoading=!1,this.resText=n.error.message}})):this.registerForm.markAllAsTouched()}ngOnDestroy(){clearInterval(this.intervalId),this.registerSub?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)(x(z),x(A),x(k),x(D))}}static{this.\u0275cmp=N({type:e,selectors:[["app-register"]],standalone:!0,features:[I],decls:44,vars:29,consts:[[1,"bg-main-light","p-3","my-5","rounded-2","mx-auto","w-75","shadow"],[1,"text-main","fs-1","fw-bold"],[1,"mb-0","mt-3","alert","alert-danger","fw-bold","mx-auto"],[1,"py-3",3,"ngSubmit","formGroup"],[1,"my-3"],["for","name",1,"mb-2","fw-bolder"],[1,"text-danger"],["id","name","type","text","formControlName","name","placeholder","Ex:Aya",1,"form-control",3,"ngClass"],[1,"alert","alert-warning","fs-6","my-3","rounded-2","fw-bold"],["for","email",1,"mb-2","fw-bolder"],["id","email","type","text","formControlName","email","placeholder","Ex:email@gmail.com",1,"form-control",3,"ngClass"],["for","password",1,"mb-2","fw-bolder"],["id","password","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","rePassword",1,"mb-2","fw-bolder"],["id","rePassword","type","password","formControlName","rePassword",1,"form-control",3,"ngClass"],["for","phone",1,"mb-2","fw-bolder"],["id","phone","type","tel","formControlName","phone",1,"form-control",3,"ngClass"],["placeholder","01xxxxxxxxx",1,"alert","alert-warning","fs-6","my-3","rounded-2","fw-bold"],["type","submit",1,"btn","btn-main","mx-auto","w-25","text-white",3,"disabled"],[1,"mb-0","mt-3","alert","alert-success","text-success","fw-bold","mx-auto"],[1,"m-0"],[1,"fa-solid","fa-circle-notch","fa-spin"]],template:function(o,t){if(o&1&&(r(0,"section",0)(1,"h1",1),l(2,"Register Now"),i(),d(3,H,2,1,"p",2)(4,J,2,1),r(5,"form",3),q("ngSubmit",function(){return t.registerUser()}),r(6,"div",4)(7,"label",5)(8,"span",6),l(9,"*"),i(),l(10,"Name: "),i(),F(11,"input",7),d(12,X,4,1,"div",8),i(),r(13,"div",4)(14,"label",9)(15,"span",6),l(16,"*"),i(),l(17,"Email: "),i(),F(18,"input",10),d(19,ee,3,1,"div",8),i(),r(20,"div",4)(21,"label",11)(22,"span",6),l(23,"*"),i(),l(24,"Password: "),i(),F(25,"input",12),d(26,ie,3,1,"div",8),i(),r(27,"div",4)(28,"label",13)(29,"span",6),l(30,"*"),i(),l(31,"rePassword: "),i(),F(32,"input",14),d(33,ae,4,1,"div",8),i(),r(34,"div",4)(35,"label",15)(36,"span",6),l(37,"*"),i(),l(38,"Phone: "),i(),F(39,"input",16),d(40,de,3,1,"div",17),i(),r(41,"button",18),l(42,"Register "),d(43,ue,2,0,"span"),i()()()),o&2){let m,b,p,S,g,y,_,P,c,T;a(3),u(3,t.resText&&t.resText!=="success"?3:t.resText&&t.resText==="success"?4:-1),a(2),C("formGroup",t.registerForm),a(6),C("ngClass",w(14,E,!((m=t.registerForm.get("name"))!=null&&m.errors)&&(((m=t.registerForm.get("name"))==null?null:m.touched)||((m=t.registerForm.get("name"))==null?null:m.dirty)),((m=t.registerForm.get("name"))==null?null:m.errors)&&(((m=t.registerForm.get("name"))==null?null:m.touched)||((m=t.registerForm.get("name"))==null?null:m.dirty)))),a(),u(12,(b=t.registerForm.get("name"))!=null&&b.errors&&((b=t.registerForm.get("name"))!=null&&b.touched)?12:-1),a(6),C("ngClass",w(17,E,!((p=t.registerForm.get("email"))!=null&&p.errors)&&(((p=t.registerForm.get("email"))==null?null:p.touched)||((p=t.registerForm.get("email"))==null?null:p.dirty)),((p=t.registerForm.get("email"))==null?null:p.errors)&&(((p=t.registerForm.get("email"))==null?null:p.touched)||((p=t.registerForm.get("email"))==null?null:p.dirty)))),a(),u(19,(S=t.registerForm.get("email"))!=null&&S.errors&&((S=t.registerForm.get("email"))!=null&&S.touched)?19:-1),a(6),C("ngClass",w(20,E,!((g=t.registerForm.get("password"))!=null&&g.errors)&&(((g=t.registerForm.get("password"))==null?null:g.touched)||((g=t.registerForm.get("password"))==null?null:g.dirty)),((g=t.registerForm.get("password"))==null?null:g.errors)&&(((g=t.registerForm.get("password"))==null?null:g.touched)||((g=t.registerForm.get("password"))==null?null:g.dirty)))),a(),u(26,(y=t.registerForm.get("password"))!=null&&y.errors&&((y=t.registerForm.get("password"))!=null&&y.touched)?26:-1),a(6),C("ngClass",w(23,E,!((_=t.registerForm.get("rePassword"))!=null&&_.errors)&&(((_=t.registerForm.get("rePassword"))==null?null:_.touched)||((_=t.registerForm.get("rePassword"))==null?null:_.dirty)),((_=t.registerForm.get("rePassword"))==null?null:_.errors)&&(((_=t.registerForm.get("rePassword"))==null?null:_.touched)||((_=t.registerForm.get("rePassword"))==null?null:_.dirty)))),a(),u(33,t.registerForm.getError("missMatch")&&((P=t.registerForm.get("rePassword"))!=null&&P.touched)?33:-1),a(6),C("ngClass",w(26,E,!((c=t.registerForm.get("phone"))!=null&&c.errors)&&(((c=t.registerForm.get("phone"))==null?null:c.touched)||((c=t.registerForm.get("phone"))==null?null:c.dirty)),((c=t.registerForm.get("phone"))==null?null:c.errors)&&(((c=t.registerForm.get("phone"))==null?null:c.touched)||((c=t.registerForm.get("phone"))==null?null:c.dirty)))),a(),u(40,(T=t.registerForm.get("phone"))!=null&&T.errors&&((T=t.registerForm.get("phone"))!=null&&T.touched)?40:-1),a(),C("disabled",t.registerForm.invalid),a(2),u(43,t.isLoading?43:-1)}},dependencies:[O,V,G,M,j,$,B,L]})}}return e})();export{Fe as RegisterComponent};
